<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="SVES College Harugeri - Excellence in Education. Providing quality education in BCA, BA, B.Com, and B.Sc.">
    <meta name="theme-color" content="#0a192f">
    <title>SVES College Harugeri - Excellence in Education</title>

    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="assets/images/logo.png">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- CSS Dependencies -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/style.css">

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="assets/images/favicon.png">
</head>

<body>
    <header id="main-header"></header>

    <!-- Hero Section -->
    <section class="hero" id="hero-section" style="background-image: url('assets/images/campus-hero.png');">
        <div class="container">
            <div class="hero-content" data-aos="fade-right" data-aos-duration="1000">
                <span class="hero-label"
                    style="color: var(--secondary); font-weight: 700; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 20px; display: block;">Transforming
                    Education Since 1983</span>
                <h1>Excellence in Every <br>Dimension.</h1>
                <p>Welcome to SVES B R Darur First Grade College Harugeri. Experience a modern campus with a rich
                    academic legacy and innovative learning tools.</p>
                <div class="hero-btns" data-aos="fade-up" data-aos-delay="400">
                    <a href="admissions.html" class="btn btn-secondary">Admission 2024-25</a>
                    <a href="virtual-tour.html" class="btn btn-outline"
                        style="border-color: var(--white); color: var(--white); margin-left: 10px;">360Â° Virtual
                        Tour</a>
                </div>
            </div>
        </div>
        <div class="hero-scroll-indicator">
            <div class="mouse"></div>
        </div>
    </section>

    <!-- Live Notice Board (Ticker) -->
    <div class="ticker-wrap">
        <div class="container">
            <div class="ticker-container notice-ticker">
                <span class="latest-badge" style="background: #ff4757;">LIVE NOTICES</span>
                <div class="ticker-display">
                    <div class="ticker-content" id="announcements-ticker">
                        <span class="notice-item">ðŸ”” Fetching real-time updates from campus...</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Interactive Quick Actions -->
    <section class="section-padding bg-light">
        <div class="container">
            <div class="section-title">
                <h1>Campus Smart Features</h1>
                <p>Digital tools designed to enhance your academic journey and campus life.</p>
            </div>
            <div class="card-grid">
                <!-- Compare Courses -->
                <div class="action-card" data-aos="fade-up" data-aos-delay="100">
                    <div class="card-icon-wrapper">
                        <i class="fas fa-columns"></i>
                    </div>
                    <div class="card-body">
                        <h3>Compare Courses</h3>
                        <p>Analyze BCA, BA, B.Sc, and B.Com programs side-by-side to find your perfect fit.</p>
                        <a href="compare-courses.html" class="action-btn">
                            <span>Compare Now</span>
                            <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>

                <!-- Smart Timetable -->
                <div class="action-card" data-aos="fade-up" data-aos-delay="200">
                    <div class="card-icon-wrapper">
                        <i class="fas fa-calendar-alt"></i>
                    </div>
                    <div class="card-body">
                        <h3>Smart Timetable</h3>
                        <p>Access your department-wise class schedules and lecture updates on any device.</p>
                        <a href="timetable.html" class="action-btn">
                            <span>View Schedule</span>
                            <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>

                <!-- Faculty Status -->
                <div class="action-card" data-aos="fade-up" data-aos-delay="300">
                    <div class="card-icon-wrapper">
                        <i class="fas fa-user-check"></i>
                    </div>
                    <div class="card-body">
                        <h3>Faculty Status</h3>
                        <p>Check real-time availability and office hours of professors for better interaction.</p>
                        <a href="faculty.html" class="action-btn">
                            <span>Check Status</span>
                            <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>

                <!-- Digital Library / Notes -->
                <div class="action-card" data-aos="fade-up" data-aos-delay="400">
                    <div class="card-icon-wrapper">
                        <i class="fas fa-book-open"></i>
                    </div>
                    <div class="card-body">
                        <h3>Study Resources</h3>
                        <p>Download previous year question papers, lecture notes, and digital library resources.</p>
                        <a href="notes.html" class="action-btn">
                            <span>Explore Library</span>
                            <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Feature: Student Showcase Highlight -->
    <section class="section-padding bg-white" id="student-showcase-section">
        <div class="container">
            <div class="flex justify-between align-center" style="margin-bottom: 40px; flex-wrap: wrap; gap: 20px;">
                <div class="section-title" style="text-align: left; margin: 0;">
                    <h1>Student Showcase</h1>
                    <p>Celebrating innovation and academic excellence from our brilliant students.</p>
                </div>
                <a href="portfolios.html" class="btn btn-outline" style="color: var(--primary);">View All Portfolios</a>
            </div>

            <div class="showcase-grid" id="showcase-container">
                <!-- Data will be injected here by JS -->
                <div class="skeleton-card" style="height: 400px;"></div>
                <div class="skeleton-card" style="height: 400px;"></div>
                <div class="skeleton-card" style="height: 400px;"></div>
            </div>
        </div>
    </section>

    <!-- Showcase Modal -->
    <div class="modal-overlay" id="showcase-modal">
        <div class="modal-content">
            <div class="modal-close" onclick="closeShowcaseModal()">&times;</div>
            <div id="modal-body">
                <!-- Content injected by JS -->
            </div>
        </div>
    </div>

    <!-- Why Choose Us -->
    <section class="section-padding bg-light">
        <div class="container">
            <div class="why-container">
                <div class="why-content" data-aos="fade-right">
                    <div class="section-title" style="text-align: left;">
                        <span
                            style="color: var(--secondary); font-weight: 600; text-transform: uppercase; letter-spacing: 2px;">The
                            SVES Edge</span>
                        <h2 style="display: block; margin-top: 10px;">Why We Lead in Rural Education</h2>
                    </div>
                    <p style="margin-bottom: 30px; font-size: 1.1rem; color: var(--text-light); line-height: 1.8;">
                        Serving
                        the community with dedication, we blend traditional values with modern technology to create a
                        unique learning ecosystem.</p>

                    <div class="why-list">
                        <div class="why-item">
                            <i class="fas fa-wifi"></i>
                            <div>
                                <h4>Digital-First Campus</h4>
                                <p>Wi-Fi enabled campus with smart classrooms and interactive learning modules.</p>
                            </div>
                        </div>
                        <div class="why-item">
                            <i class="fas fa-graduation-cap"></i>
                            <div>
                                <h4>Career Pathways</h4>
                                <p>Dedicated course comparison and placement assistance for every student.</p>
                            </div>
                        </div>
                        <div class="why-item">
                            <i class="fas fa-award"></i>
                            <div>
                                <h4>Proven Legacy</h4>
                                <p>NAAC 'A' Accredited institution with over 40 years of academic brilliance.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="why-image" data-aos="fade-left">
                    <div
                        style="position: relative; border-radius: var(--radius-lg); overflow: hidden; box-shadow: var(--shadow-lg);">
                        <video src="assets/images/SVES About.mp4" autoplay muted loop controls
                            style="width: 100%; display: block;"></video>
                        <div
                            style="position: absolute; bottom: 30px; left: 30px; background: var(--secondary); padding: 25px; border-radius: var(--radius-md); box-shadow: var(--shadow-md); border: 2px solid rgba(255,255,255,0.2);">
                            <h2 style="color: var(--primary); font-size: 3rem; line-height: 1; margin: 0;">40+</h2>
                            <p
                                style="color: var(--primary); font-weight: 700; margin: 0; text-transform: uppercase; font-size: 0.8rem; letter-spacing: 1px;">
                                Years of Success</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Achievement Wall Quick Preview -->
    <section class="section-padding">
        <div class="container">
            <div class="section-title">
                <h1>Our Wall of Fame</h1>
                <p>Recent milestones that define our institutional success.</p>
            </div>
            <div class="card-grid" id="achievement-preview">
                <!-- Will be populated by JS or static highlights -->
                <div class="card" style="padding: 15px;">
                    <div style="height: 150px; background: #eee; margin-bottom: 20px; border-radius: 10px;"></div>
                    <h4>University Rank 2024</h4>
                    <p>BCA VI Sem student secures 5th Rank in State Level competition.</p>
                </div>
                <div class="card" style="padding: 15px;">
                    <div style="height: 150px; background: #eee; margin-bottom: 20px; border-radius: 10px;"></div>
                    <h4>National Sports Meet</h4>
                    <p>Our volleyball team won Bronze at the Inter-University level.</p>
                </div>
            </div>
            <div class="text-center" style="margin-top: 40px;">
                <a href="achievements.html" class="btn btn-primary">View Full Achievement Wall</a>
            </div>
        </div>
    </section>

    <footer id="main-site-footer"></footer>

    <!-- JS Dependencies -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="assets/js/api.js"></script>
    <script src="assets/js/main.js"></script>
    <script>
        // Load announcements and showcase from API
        document.addEventListener('DOMContentLoaded', async () => {
            // Announcements
            try {
                const response = await fetch(API_BASE_URL + '/announcements');
                const announcements = await response.json();
                const ticker = document.getElementById('announcements-ticker');
                if (announcements.length > 0) {
                    ticker.innerHTML = announcements.map(a =>
                        `<span class="notice-item">ðŸ“¢ ${a.title}${a.link ? ` <a href="${a.link}" target="_blank">[View]</a>` : ''} | </span>`
                    ).join('');
                } else {
                    ticker.innerHTML = '<span class="notice-item">ðŸ”” Welcome to the New SVES Digital Campus Experience!</span>';
                }
            } catch (e) { console.error('Announcements error:', e); }

            // Student Showcase
            try {
                const response = await fetch(API_BASE_URL + '/showcase');
                const showcaseItems = await response.json();
                const container = document.getElementById('showcase-container');

                if (showcaseItems.length > 0) {
                    container.innerHTML = showcaseItems.map(item => `
                        <div class="portfolio-card" data-aos="fade-up">
                            <div class="portfolio-img" style="background-image: url('${item.thumbnail_url || 'assets/images/placeholder.jpg'}')">
                                <span class="portfolio-category">${item.category}</span>
                            </div>
                            <div class="portfolio-body">
                                <h3 class="portfolio-title">${item.title}</h3>
                                <p class="portfolio-desc">${item.description.substring(0, 100)}${item.description.length > 100 ? '...' : ''}</p>
                                <div class="portfolio-footer">
                                    <span style="font-size: 0.8rem; font-weight: 600; color: var(--secondary-dark);">
                                        <i class="fas fa-user-graduate"></i> ${item.student_name}
                                    </span>
                                    <button onclick="openShowcaseModal(${item.id})" class="view-project" style="background: none; border: none; cursor: pointer; padding: 0;">
                                        ${item.category === 'Research Paper' ? 'Read Paper' : 'View Portfolio'} <i class="fas fa-arrow-right"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    `).join('');
                } else {
                    container.innerHTML = '<p class="text-center" style="grid-column: 1/-1;">No showcase items available yet.</p>';
                }
            } catch (e) {
                console.error('Showcase error:', e);
                document.getElementById('showcase-container').innerHTML = '<p class="text-center">Failed to load showcase items.</p>';
            }
        });

        // Modal Logic
        async function openShowcaseModal(id) {
            const modal = document.getElementById('showcase-modal');
            const body = document.getElementById('modal-body');
            modal.classList.add('active');
            body.innerHTML = '<div style="text-align:center; padding:50px;"><div class="spinner"></div></div>';

            try {
                const response = await fetch(`${API_BASE_URL}/showcase/${id}`);
                const item = await response.json();

                let galleryHtml = '';
                if (item.category === 'Research Paper' && item.content_url) {
                    galleryHtml = `
                        <div class="pdf-container" style="margin-top: 20px;">
                            <iframe src="${item.content_url}" class="pdf-preview"></iframe>
                            <div style="margin-top: 20px; text-align: center;">
                                <a href="${item.content_url}" class="btn btn-primary" download>
                                    <i class="fas fa-download"></i> Download Full Research Paper (PDF)
                                </a>
                            </div>
                        </div>
                    `;
                } else if (item.gallery_images && Array.isArray(item.gallery_images) && item.gallery_images.length > 0) {
                    galleryHtml = `
                        <div class="modal-gallery">
                            ${item.gallery_images.map(img => `<img src="${img}" alt="Gallery image" onclick="window.open('${img}', '_blank')">`).join('')}
                        </div>
                        <p style="font-size: 0.8rem; color: #888; margin-top: 10px; text-align: center;">Click images to expand</p>
                    `;
                }

                body.innerHTML = `
                    <div class="modal-header">
                        <h2>${item.title}</h2>
                        <div class="modal-meta">
                            <span><i class="fas fa-tag"></i> ${item.category}</span>
                            <span><i class="fas fa-user"></i> ${item.student_name}</span>
                        </div>
                    </div>
                    <div class="modal-text">
                        <p style="line-height: 1.8; color: #444;">${item.description}</p>
                    </div>
                    ${galleryHtml}
                    ${item.content_url && item.category !== 'Research Paper' ? `
                        <div style="margin-top: 30px; border-top: 1px solid #eee; padding-top: 20px; text-align: center;">
                            <a href="${item.content_url}" target="_blank" class="btn btn-primary">
                                <i class="fas fa-external-link-alt"></i> Visit Live Portfolio / Project
                            </a>
                        </div>
                    ` : ''}
                `;
            } catch (e) {
                body.innerHTML = '<p class="text-center">Error loading details. Please try again.</p>';
            }
        }

        function closeShowcaseModal() {
            document.getElementById('showcase-modal').classList.remove('active');
        }

        // Close on overlay click
        document.getElementById('showcase-modal').addEventListener('click', (e) => {
            if (e.target === document.getElementById('showcase-modal')) closeShowcaseModal();
        });
    </script>
</body>

</html>